{"ast":null,"code":"import _regeneratorRuntime from\"/home/hassanlatifa98/REST-countries-API/countries-of-the-world/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hassanlatifa98/REST-countries-API/countries-of-the-world/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/hassanlatifa98/REST-countries-API/countries-of-the-world/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import TextField from'@mui/material/TextField';import IconButton from'@mui/material/IconButton';import SearchIcon from'@mui/icons-material/Search';import{API_URL_ALL}from'./api';import{jsx as _jsx}from\"react/jsx-runtime\";var Search=function Search(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var handleSearchChange=function handleSearchChange(event){setSearchText(event.target.value);};var handleSearchSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var url,response,data,foundCountry;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(searchText.trim()!=='')){_context.next=19;break;}_context.prev=2;url=\"\".concat(API_URL_ALL,\"?name=\").concat(searchText);_context.next=6;return fetch(url);case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error('Failed to fetch country data');case 9:_context.next=11;return response.json();case 11:data=_context.sent;foundCountry=data.find(function(country){return country.name.common.toLowerCase()===searchText.toLowerCase();});if(foundCountry){navigate(\"/\".concat(foundCountry.name.common));}else{console.log('Country not found');}_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](2);console.error(_context.t0);case 19:case\"end\":return _context.stop();}},_callee,null,[[2,16]]);}));return function handleSearchSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearchSubmit,children:/*#__PURE__*/_jsx(TextField,{label:\"Search Country\",variant:\"outlined\",value:searchText,onChange:handleSearchChange,InputProps:{endAdornment:/*#__PURE__*/_jsx(IconButton,{type:\"submit\",\"aria-label\":\"search\",children:/*#__PURE__*/_jsx(SearchIcon,{})})}})});};export default Search;","map":{"version":3,"names":["React","useState","useNavigate","TextField","IconButton","SearchIcon","API_URL_ALL","jsx","_jsx","Search","navigate","_useState","_useState2","_slicedToArray","searchText","setSearchText","handleSearchChange","event","target","value","handleSearchSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","data","foundCountry","wrap","_callee$","_context","prev","next","preventDefault","trim","concat","fetch","sent","ok","Error","json","find","country","name","common","toLowerCase","console","log","t0","error","stop","_x","apply","arguments","onSubmit","children","label","variant","onChange","InputProps","endAdornment","type"],"sources":["/home/hassanlatifa98/REST-countries-API/countries-of-the-world/src/Search.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport TextField from '@mui/material/TextField';\nimport IconButton from '@mui/material/IconButton';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { API_URL_ALL } from './api';\n\nconst Search = () => {\n  const navigate = useNavigate();\n  const [searchText, setSearchText] = useState('');\n\n  const handleSearchChange = (event) => {\n    setSearchText(event.target.value);\n  };\n  \n  const handleSearchSubmit = async (event) => {\n    event.preventDefault();\n    if (searchText.trim() !== '') {\n      try {\n        let url = `${API_URL_ALL}?name=${searchText}`;\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error('Failed to fetch country data');\n        }\n        const data = await response.json();\n        const foundCountry = data.find((country) =>\n          country.name.common.toLowerCase() === searchText.toLowerCase()\n        );\n        if (foundCountry) {\n          navigate(`/${foundCountry.name.common}`);\n        } else {\n          console.log('Country not found');\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  \n\n  return (\n    <form onSubmit={handleSearchSubmit}>\n      <TextField\n        label=\"Search Country\"\n        variant=\"outlined\"\n        value={searchText}\n        onChange={handleSearchChange}\n        InputProps={{\n          endAdornment: (\n            <IconButton type=\"submit\" aria-label=\"search\">\n              <SearchIcon />\n            </IconButton>\n          ),\n        }}\n      />\n    </form>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}